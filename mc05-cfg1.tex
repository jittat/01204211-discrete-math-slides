\include{commons}

\newcommand\sbullet[1][.5]{\mathbin{\vcenter{\hbox{\scalebox{#1}{$\bullet$}}}}}

\lecturetitle{Lecture 11a: Context-free languages and grammars (1)\footnote{Based on lecture notes of {\em Models of Computation} course by Jeff Erickson.}} 
\renewcommand{\epsilon}{\varepsilon}

\newcommand{\czero}{{\mathtt 0}}
\newcommand{\cone}{{\mathtt 1}}
\newcommand{\sigcupgam}{\Sigma\cup\Gamma}

\frame{
  \frametitle{Building up languages}

  Regular languages:
  \begin{itemize}
  \item Contenation
  \item Union
  \item Kleene star
  \end{itemize}

  \pause

  Context-free grammar:
  \begin{itemize}
  \item Contenation
  \item Union
  \item Recursion
  \end{itemize}
}       

\frame{
  \frametitle{Example}

  \begin{eqnarray*}
    S & \rightarrow & \czero S \cone \\
    S & \rightarrow & \epsilon
  \end{eqnarray*}

  \pause
  You can use ``$|$'' to write production rules more succinctly.
  
  \begin{eqnarray*}
    S & \rightarrow & \czero S \cone \;|\; \epsilon
  \end{eqnarray*}
}

\frame{
  \frametitle{Definition}

  A {\color{red}\bf context-free grammer} consists of the following
  components:

  \begin{itemize}
  \item a finite set $\Sigma$, a set of {\em symbols} (or {\em
    terminals}),
  \item a finite set $\Gamma$ disjoint from $\Sigma$, a set of {\em
    non-terminals} (you can think of them as variables),
  \item a finite set $R$ of {\em production rules} of the form
    $A\rightarrow w$ where $A\in\Gamma$ and $w\in(\sigcupgam)^*$
    is a string of symbols and variable, and
  \item a {\em starting} non-terminal (usually the non-terminal of the first production rule).
  \end{itemize}
}

\frame{
  \frametitle{Another example}

  \begin{eqnarray*}
    S &\rightarrow& A \;|\; B \\
    A &\rightarrow& \czero A \;|\: \czero C \\
    B &\rightarrow& B \cone \;|\: C \cone \\
    C &\rightarrow& \epsilon \;|\; \czero C\cone
  \end{eqnarray*}

  Here $\Sigma=\{\czero, \cone\}$ and $\Gamma=\{S,A,B,C\}$.
}

\frame{
  \frametitle{Applying the rules}

  If you have strings $x,y,z\in(\sigcupgam)^*$ and the production rule
  \[
  A \rightarrow y,
  \]
  You can apply the rule to the string $xAz$.  This yields the string
  \[
  xyz.
  \]
  We use the notation
  \[
  xAz \rightsquigarrow xyz
  \]
  to describe this application.
}

\frame{
  \frametitle{Derivation}

  We say that $z$ derives from $x$ if we can obtain $z$ from $x$ by
  production rule applications, denoted by $x\rightsquigarrow^* z$.

  Formally, for any string $x,z\in (\sigcupgam)^*$, we say that
  $x\rightsquigarrow^* z$ if either
  \begin{itemize}
  \item $x = z$, or
  \item $x \rightsquigarrow y$ and $y\rightsquigarrow^* z$ for some
    string $y\in(\sigcupgam)^*$.
  \end{itemize}


}

\frame{
  \frametitle{$L(w)$}

  The {\em language} $L(w)$ of string $w\in(\sigcupgam)^*$ is the set
  of all strings in $\Sigma^*$ that derive from $w$, i.e.,
  \[
  L(w)=\{ x\in\Sigma^* \;|\; w\rightsquigarrow* x\}.
  \]

  \pause

  The language {\color{red} \bf generated by} a context-free grammar
  $G$, denoted by $L(G)$ is the language of its starting non-terminal.

  \pause

  A language $L$ is {\color{red} \bf context-free} if there exists
  some context-free grammar $G$ such that $L(G)=L$.

}

\frame{

  \begin{block}{Grammar $G_1$}
    \begin{eqnarray*}
      S &\rightarrow& NP \; VP\\
      NP &\rightarrow& CN | CN \; PP \\
      VP &\rightarrow& CV | CV \; PP \\
      PP &\rightarrow& PREP \; CN\\
      CN &\rightarrow& ART \; N\\
      CV &\rightarrow& V | V \; NP\\
      ART &\rightarrow& \mathtt{a} | \mathtt{the}\\
      N &\rightarrow& \mathtt{boy} | \mathtt{girl} | \mathtt{flower}\\
      V &\rightarrow& \mathtt{touches} | \mathtt{likes} | \mathtt{sees}\\
      PREP &\rightarrow& \mathtt{with}\\
    \end{eqnarray*}
  \end{block}
    
}

\frame{
  \frametitle{Small English grammar}

  \begin{columns}
    \begin{column}{0.4\textwidth}
      {\small
        \begin{eqnarray*}
          S &\rightarrow& NP \; VP\\
          NP &\rightarrow& CN | CN \; PP \\
          VP &\rightarrow& CV | CV \; PP \\
          PP &\rightarrow& PREP \; CN\\
          CN &\rightarrow& ART \; N\\
          CV &\rightarrow& V | V \; NP\\
          ART &\rightarrow& \mathtt{a} | \mathtt{the}\\
          N &\rightarrow& \mathtt{boy} | \mathtt{girl} | \mathtt{flower}\\
          V &\rightarrow& \mathtt{touches} | \mathtt{likes} | \mathtt{sees}\\
          PREP &\rightarrow& \mathtt{with}\\
        \end{eqnarray*}
      }
    \end{column}

    \begin{column}{0.6\textwidth}
      \begin{itemize}
      \item Examples of strings in $L(G_2)$ are:
        \begin{itemize}
        \item {\tt a boy sees}\pause    
        \item {\tt the boy sees a flower}\pause    
        \item {\tt a girl with a flower likes the boy}
        \end{itemize}
      \end{itemize}

      \vspace{1.5in}
    \end{column}
  \end{columns}
  
}

\frame{
  \frametitle{Parse tree}
  \begin{columns}
    \begin{column}{0.4\textwidth}
      {\small
        \begin{eqnarray*}
          S &\rightarrow& A \;|\; B \\
          A &\rightarrow& \czero A \;|\: \czero C \\
          B &\rightarrow& B \cone \;|\: C \cone \\
          C &\rightarrow& \epsilon \;|\; \czero C\cone
        \end{eqnarray*}
      }
    \end{column}

    \pause
    
    \begin{column}{0.6\textwidth}
      \begin{itemize}
      \item $\czero\czero\czero\cone\cone$
        \pause
      \item $\czero\cone\cone\cone\cone$
        \pause
      \item $\cone\cone\cone\cone\cone\czero$
        \pause
      \end{itemize}
      \vspace{1.5in}
    \end{column}
  \end{columns}
  
}

\frame{
  \frametitle{Parse tree}

  \begin{columns}
    \begin{column}{0.4\textwidth}
      {\small
        \begin{eqnarray*}
          S &\rightarrow& NP \; VP\\
          NP &\rightarrow& CN | CN \; PP \\
          VP &\rightarrow& CV | CV \; PP \\
          PP &\rightarrow& PREP \; CN\\
          CN &\rightarrow& ART \; N\\
          CV &\rightarrow& V | V \; NP\\
          ART &\rightarrow& \mathtt{a} | \mathtt{the}\\
          N &\rightarrow& \mathtt{boy} | \mathtt{girl} | \mathtt{flower}\\
          V &\rightarrow& \mathtt{touches} | \mathtt{likes} | \mathtt{sees}\\
          PREP &\rightarrow& \mathtt{with}\\
        \end{eqnarray*}
      }
    \end{column}

    \begin{column}{0.6\textwidth}
      {\tt a girl with a flower likes the boy}

      \vspace{2.5in}
    \end{column}
  \end{columns}
  
}

\frame{
  \frametitle{Ambiguity}
  \begin{columns}
    \begin{column}{0.4\textwidth}
      {\small
        \begin{eqnarray*}
          S &\rightarrow& \cone \;|\; S+S \;|\; S*S \\
        \end{eqnarray*}
      }
    \end{column}

    \begin{column}{0.6\textwidth}
      \begin{itemize}
      \item $\cone+\cone*\cone$ \pause
      \item $\cone+\cone+\cone+\cone+\cone$ \pause 
      \end{itemize}
      \vspace{1.75in}
    \end{column}
  \end{columns}

  \begin{itemize}
  \item A string $w$ is {\color{red}\bf ambiguous} with respect to a
    grammar $G$ if more than one parse tree for $w$ exists.
  \item A grammar $G$ is {\color{red}\bf ambiguous} if some string is
    ambiguous with respect to $G$.
  \end{itemize}
}

